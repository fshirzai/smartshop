{"ast":null,"code":"var _jsxFileName = \"/data/data/com.termux/files/home/fsprojects/myapp/src/pages/ProfilePage.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Form, Button, Container, Alert, Row, Col } from 'react-bootstrap';\nimport { useAuth } from '../hooks/useAuth';\nimport { authAPI } from '../api/authAPI';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProfilePage = () => {\n  _s();\n  const {\n    user,\n    setUser\n  } = useAuth();\n  const [name, setName] = useState((user === null || user === void 0 ? void 0 : user.name) || '');\n  const [email] = useState((user === null || user === void 0 ? void 0 : user.email) || '');\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n  useEffect(() => {\n    setName((user === null || user === void 0 ? void 0 : user.name) || '');\n  }, [user]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (password && password !== confirm) return setError('Passwords do not match');\n    setLoading(true);\n    try {\n      const {\n        data\n      } = await authAPI.updateProfile({\n        name,\n        password\n      });\n      setUser(data);\n      setMessage('Profile updated');\n      setPassword('');\n      setConfirm('');\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError((err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Update failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Profile \\u2013 ShopSmart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"py-5\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"My Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 13\n          }, this), message && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"success\",\n            children: message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"danger\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                required: true,\n                value: name,\n                onChange: e => setName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Email (read-only)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"email\",\n                value: email,\n                disabled: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"New Password (leave blank to keep current)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                value: password,\n                onChange: e => setPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Confirm New Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"password\",\n                value: confirm,\n                onChange: e => setConfirm(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              variant: \"dark\",\n              disabled: loading,\n              children: loading ? 'Updating…' : 'Update Profile'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(ProfilePage, \"70zttT8ixnWmjCbGPhUrWzkwbn0=\", false, function () {\n  return [useAuth];\n});\n_c = ProfilePage;\nexport default ProfilePage;\nvar _c;\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"names":["useState","useEffect","Helmet","Form","Button","Container","Alert","Row","Col","useAuth","authAPI","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfilePage","_s","user","setUser","name","setName","email","password","setPassword","confirm","setConfirm","loading","setLoading","message","setMessage","error","setError","handleSubmit","e","preventDefault","data","updateProfile","err","_err$response","_err$response$data","response","children","fileName","_jsxFileName","lineNumber","columnNumber","className","md","variant","onSubmit","Group","Label","Control","required","value","onChange","target","type","disabled","_c","$RefreshReg$"],"sources":["/data/data/com.termux/files/home/fsprojects/myapp/src/pages/ProfilePage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet-async';\nimport { Form, Button, Container, Alert, Row, Col } from 'react-bootstrap';\nimport { useAuth } from '../hooks/useAuth';\nimport { authAPI } from '../api/authAPI';\n\nconst ProfilePage = () => {\n  const { user, setUser } = useAuth();\n  const [name, setName] = useState(user?.name || '');\n  const [email] = useState(user?.email || '');\n  const [password, setPassword] = useState('');\n  const [confirm, setConfirm] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    setName(user?.name || '');\n  }, [user]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (password && password !== confirm) return setError('Passwords do not match');\n    setLoading(true);\n    try {\n      const { data } = await authAPI.updateProfile({ name, password });\n      setUser(data);\n      setMessage('Profile updated');\n      setPassword('');\n      setConfirm('');\n    } catch (err) {\n      setError(err?.response?.data?.message || 'Update failed');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      <Helmet>\n        <title>Profile – ShopSmart</title>\n      </Helmet>\n\n      <Container className=\"py-5\">\n        <Row className=\"justify-content-center\">\n          <Col md={6}>\n            <h2>My Profile</h2>\n\n            {message && <Alert variant=\"success\">{message}</Alert>}\n            {error && <Alert variant=\"danger\">{error}</Alert>}\n\n            <Form onSubmit={handleSubmit}>\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Name</Form.Label>\n                <Form.Control required value={name} onChange={(e) => setName(e.target.value)} />\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Email (read-only)</Form.Label>\n                <Form.Control type=\"email\" value={email} disabled />\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Label>New Password (leave blank to keep current)</Form.Label>\n                <Form.Control type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} />\n              </Form.Group>\n\n              <Form.Group className=\"mb-3\">\n                <Form.Label>Confirm New Password</Form.Label>\n                <Form.Control type=\"password\" value={confirm} onChange={(e) => setConfirm(e.target.value)} />\n              </Form.Group>\n\n              <Button type=\"submit\" variant=\"dark\" disabled={loading}>\n                {loading ? 'Updating…' : 'Update Profile'}\n              </Button>\n            </Form>\n          </Col>\n        </Row>\n      </Container>\n    </>\n  );\n};\n\nexport default ProfilePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}